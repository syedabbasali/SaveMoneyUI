{"ast":null,"code":"import{useRef,useContext}from'react';import{useHistory}from'react-router-dom';import AuthContext from'../../store/auth-context';import classes from'./ProfileForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileForm=function ProfileForm(){var history=useHistory();var usernameInputRef=useRef();var oldPasswordInputRef=useRef();var newPasswordInputRef=useRef();var authCtx=useContext(AuthContext);var submitHandler=function submitHandler(event){event.preventDefault();var enteredUsername=usernameInputRef.current.value;var enteredOldPassword=oldPasswordInputRef.current.value;var enteredNewPassword=newPasswordInputRef.current.value;// add validation\nfetch(\"http://54.174.0.81:8080/shop/update_password/username=\".concat(enteredUsername,\"/oldpassword=\").concat(enteredOldPassword,\"/newpassword=\").concat(enteredNewPassword),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){// assumption: Always succeeds!\nhistory.replace('/');});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",id:\"username\",ref:usernameInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"old-password\",children:\"Old Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",id:\"old-password\",ref:oldPasswordInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",id:\"new-password\",ref:newPasswordInputRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Change Password\"})})]})]});};export default ProfileForm;","map":{"version":3,"names":["useRef","useContext","useHistory","AuthContext","classes","ProfileForm","history","usernameInputRef","oldPasswordInputRef","newPasswordInputRef","authCtx","submitHandler","event","preventDefault","enteredUsername","current","value","enteredOldPassword","enteredNewPassword","fetch","method","headers","then","res","replace","form","control","action"],"sources":["/Users/syedabbasali/Desktop/IndividualProject/submission/FrontendV3/src/components/Profile/ProfileForm.js"],"sourcesContent":["import { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = () => {\n  const history = useHistory();\n\n\n  \n  const usernameInputRef = useRef();\n  const oldPasswordInputRef = useRef();\n  const newPasswordInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredOldPassword = oldPasswordInputRef.current.value;\n    const enteredNewPassword = newPasswordInputRef.current.value;\n\n    // add validation\n\n    fetch(`http://54.174.0.81:8080/shop/update_password/username=${enteredUsername}/oldpassword=${enteredOldPassword}/newpassword=${enteredNewPassword}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      // assumption: Always succeeds!\n\n      history.replace('/');\n    });\n  };\n\n  return (\n    <div>\n      <h2>Change Password</h2>\n    <form className={classes.form} onSubmit={submitHandler}>\n      <div className={classes.control}>\n          <label htmlFor='username'>Username</label>\n          <input required type='text' id='username' ref={usernameInputRef} />\n        </div>\n      <div className={classes.control}>\n          <label htmlFor='old-password'>Old Password</label>\n          <input required type='password' id='old-password' ref={oldPasswordInputRef} />\n        </div>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input required type='password' id='new-password' ref={newPasswordInputRef} />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n      \n    </form>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,UAAU,KAAQ,OAAO,CAC1C,OAASC,UAAU,KAAQ,kBAAkB,CAE7C,MAAOC,YAAW,KAAM,0BAA0B,CAClD,MAAOC,QAAO,KAAM,0BAA0B,CAAC,wFAE/C,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAMC,QAAO,CAAGJ,UAAU,EAAE,CAI5B,GAAMK,iBAAgB,CAAGP,MAAM,EAAE,CACjC,GAAMQ,oBAAmB,CAAGR,MAAM,EAAE,CACpC,GAAMS,oBAAmB,CAAGT,MAAM,EAAE,CACpC,GAAMU,QAAO,CAAGT,UAAU,CAACE,WAAW,CAAC,CAEvC,GAAMQ,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAK,CAAK,CAC/BA,KAAK,CAACC,cAAc,EAAE,CAEtB,GAAMC,gBAAe,CAAGP,gBAAgB,CAACQ,OAAO,CAACC,KAAK,CACtD,GAAMC,mBAAkB,CAAGT,mBAAmB,CAACO,OAAO,CAACC,KAAK,CAC5D,GAAME,mBAAkB,CAAGT,mBAAmB,CAACM,OAAO,CAACC,KAAK,CAE5D;AAEAG,KAAK,iEAA0DL,eAAe,yBAAgBG,kBAAkB,yBAAgBC,kBAAkB,EAAI,CACpJE,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACb;AAEAjB,OAAO,CAACkB,OAAO,CAAC,GAAG,CAAC,CACtB,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,oCACE,uCAAwB,cAC1B,cAAM,SAAS,CAAEpB,OAAO,CAACqB,IAAK,CAAC,QAAQ,CAAEd,aAAc,wBACrD,aAAK,SAAS,CAAEP,OAAO,CAACsB,OAAQ,wBAC5B,cAAO,OAAO,CAAC,UAAU,sBAAiB,cAC1C,cAAO,QAAQ,MAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAEnB,gBAAiB,EAAG,GAC/D,cACR,aAAK,SAAS,CAAEH,OAAO,CAACsB,OAAQ,wBAC5B,cAAO,OAAO,CAAC,cAAc,0BAAqB,cAClD,cAAO,QAAQ,MAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,CAAElB,mBAAoB,EAAG,GAC1E,cACR,aAAK,SAAS,CAAEJ,OAAO,CAACsB,OAAQ,wBAC9B,cAAO,OAAO,CAAC,cAAc,0BAAqB,cAClD,cAAO,QAAQ,MAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,CAAEjB,mBAAoB,EAAG,GAC1E,cACN,YAAK,SAAS,CAAEL,OAAO,CAACuB,MAAO,uBAC7B,2CAAgC,EAC5B,GAED,GACD,CAEV,CAAC,CAED,cAAetB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}