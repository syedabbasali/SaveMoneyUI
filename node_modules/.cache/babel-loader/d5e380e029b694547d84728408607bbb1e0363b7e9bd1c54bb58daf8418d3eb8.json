{"ast":null,"code":"import _slicedToArray from\"/Users/syedabbasali/Desktop/IndividualProject/submission/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from'./NearByShopsPage.module.css';import{useRef,useContext}from'react';import React,{useState}from'react';import AuthContext from'../../store/auth-context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShopsListing=function ShopsListing(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shops=_useState2[0],setShops=_useState2[1];var longitudeInputRef=useRef();var latitudeInputRef=useRef();var postcodeInputRef=useRef();var itemInputRef=useRef();var typeInputRef=useRef();var authCtx=useContext(AuthContext);var submitHandler=function submitHandler(event){event.preventDefault();var longitude=longitudeInputRef.current.value;var latitude=latitudeInputRef.current.value;var postcode=postcodeInputRef.current.value;var item=itemInputRef.current.value;var type=typeInputRef.current.value;// add validation\nvar url=\"http://54.174.0.81:8080/shop/get_nearby_shops/longitude=\".concat(longitude,\"/latitude=\").concat(latitude,\"/postcode=\").concat(postcode,\"/item=\").concat(item,\"/shop_type=\").concat(type);// console.log(url);\nfetch(url)// fetch(`http://54.174.0.81:8080/shop/get_shop_type/username=Test102/password=Test102`)\n.then(function(response){// assumption: Always succeeds!\nreturn response.json();}).then(function(json){console.log(json);setShops(json);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-password\",children:\"Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"new-password\",ref:typeInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Longitude\",children:\"Longitude\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Longitude\",ref:longitudeInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Latitude\",children:\"Latitude\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Latitude\",ref:latitudeInputRef})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.form,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postcode\",children:\"Post Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"postcode\",ref:postcodeInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"item\",children:\"Item\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"item\",ref:itemInputRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Search Near By Shops\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"display-grid\",style:{margin:\"0 7vw\"},children:shops.map(function(shop){return/*#__PURE__*/_jsxs(\"div\",{className:classes.shop,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:shop.shop_name}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"a\",{href:'https://maps.google.com/?q='+shop.shop_latitude+','+shop.shop_longitude,target:\"_blank\",children:\"Locate Shop\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Add: \",shop.shop_address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Postcode: \",shop.shop_postcode]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",shop.shop_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Crowd: \",shop.shop_crowd]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",shop.shop_status]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"display-flex\",style:{justifyContent:\"space-between\"},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Item Price: \",shop.itemPrice]})})]});})})]});};export default ShopsListing;","map":{"version":3,"names":["classes","useRef","useContext","React","useState","AuthContext","ShopsListing","shops","setShops","longitudeInputRef","latitudeInputRef","postcodeInputRef","itemInputRef","typeInputRef","authCtx","submitHandler","event","preventDefault","longitude","current","value","latitude","postcode","item","type","url","fetch","then","response","json","console","log","form","control","action","margin","map","shop","justifyContent","shop_name","shop_latitude","shop_longitude","shop_address","shop_postcode","shop_type","shop_crowd","shop_status","itemPrice"],"sources":["/Users/syedabbasali/Desktop/IndividualProject/submission/FrontendV3/src/components/Shops/ShopsListing.js"],"sourcesContent":["import classes from './NearByShopsPage.module.css';\nimport { useRef, useContext } from 'react';\nimport React, { useState } from 'react';\n\nimport AuthContext from '../../store/auth-context';\n\nconst ShopsListing = () => {\n    const [shops, setShops] = useState([]);\n  \n    const longitudeInputRef = useRef();\n    const latitudeInputRef = useRef();\n    const postcodeInputRef = useRef();\n    const itemInputRef = useRef();\n    const typeInputRef = useRef();\n\n    const authCtx = useContext(AuthContext);\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n    \n        const longitude = longitudeInputRef.current.value;\n        const latitude = latitudeInputRef.current.value;\n        const postcode = postcodeInputRef.current.value;\n        const item = itemInputRef.current.value;\n        const type = typeInputRef.current.value;\n        \n        // add validation\n        let url = `http://54.174.0.81:8080/shop/get_nearby_shops/longitude=${longitude}/latitude=${latitude}/postcode=${postcode}/item=${item}/shop_type=${type}`;\n        // console.log(url);\n        fetch(url)\n        // fetch(`http://54.174.0.81:8080/shop/get_shop_type/username=Test102/password=Test102`)\n         .then(response => {\n          // assumption: Always succeeds!\n            return response.json();\n        }).then(json => {\n            console.log(json)\n              setShops(json);\n            \n        });\n      }\n  return (\n    <div>\n        <div>\n        <form onSubmit={submitHandler}>\n            <div className={classes.form}>\n                <div className={classes.control}>\n                    <label htmlFor='new-password'>Type</label>\n                    <input type='text' id='new-password' ref={typeInputRef} />\n                </div>\n                <div className={classes.control}>\n                    <label htmlFor='Longitude'>Longitude</label>\n                    <input type='text' id='Longitude' ref={longitudeInputRef} />\n                </div>\n                <div className={classes.control}>\n                    <label htmlFor='Latitude'>Latitude</label>\n                    <input type='text' id='Latitude' ref={latitudeInputRef} />\n                </div>\n            </div>\n            <div className={classes.form}>\n                <div className={classes.control}>\n                    <label htmlFor='postcode'>Post Code</label>\n                    <input type='text' id='postcode' ref={postcodeInputRef} />\n                </div>\n                <div className={classes.control}>\n                    <label htmlFor='item'>Item</label>\n                    <input type='text' id='item' ref={itemInputRef} />\n                </div>\n                \n                <div className={classes.action}>\n                    <button>Search Near By Shops</button>\n                </div>\n            </div>\n        </form>\n        </div>\n        \n        <div className='display-grid' style={{margin: \"0 7vw\"}}>\n            {shops.map((shop) => (\n                <div className={classes.shop}>\n                    <div className='display-flex' style={{justifyContent: \"space-between\"}}>\n                        <h1>{shop.shop_name}</h1>\n                        <div className={classes.action}>\n                            <a href={'https://maps.google.com/?q=' + shop.shop_latitude +','+ shop.shop_longitude} target=\"_blank\">Locate Shop</a>\n                        </div>\n                    </div>\n                    \n                    <div className='display-flex' style={{justifyContent: \"space-between\"}}>\n                        <p>Add: {shop.shop_address}</p>\n                        <p>Postcode: {shop.shop_postcode}</p>\n                    </div>\n                    <div className='display-flex' style={{justifyContent: \"space-between\"}}>\n                        <p>Type: {shop.shop_type}</p>\n                        <p>Crowd: {shop.shop_crowd}</p>\n                        <p>Status: {shop.shop_status}</p>\n                    </div>\n                    <div className='display-flex' style={{justifyContent: \"space-between\"}}>\n                        <p>Item Price: {shop.itemPrice}</p>\n                       \n                    </div>\n                </div>\n            ))}\n        </div>\n        \n    </div>\n  );\n};\n\nexport default ShopsListing;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}