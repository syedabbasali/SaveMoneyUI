{"ast":null,"code":"var _jsxFileName = \"/Users/syedabbasali/Desktop/IndividualProject/submission/FrontendV3/src/components/Profile/ProfileForm.js\",\n  _s = $RefreshSig$();\nimport { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = () => {\n  _s();\n  const history = useHistory();\n  const usernameInputRef = useRef();\n  const oldPasswordInputRef = useRef();\n  const newPasswordInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n  const submitHandler = event => {\n    event.preventDefault();\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredOldPassword = oldPasswordInputRef.current.value;\n    const enteredNewPassword = newPasswordInputRef.current.value;\n\n    // add validation\n\n    fetch(`http://54.174.0.81:8080/shop/update_password/username=${enteredUsername}/oldpassword=${enteredOldPassword}/newpassword=${enteredNewPassword}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      // assumption: Always succeeds!\n\n      history.replace('/');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Change Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.form,\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"text\",\n          id: \"username\",\n          ref: usernameInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"old-password\",\n          children: \"Old Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"password\",\n          id: \"old-password\",\n          ref: oldPasswordInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"new-password\",\n          children: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"password\",\n          id: \"new-password\",\n          ref: newPasswordInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.action,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Change Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"i+Mj2mzJeDfza0HxEb6HY32mOlM=\", false, function () {\n  return [useHistory];\n});\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["useRef","useContext","useHistory","AuthContext","classes","ProfileForm","history","usernameInputRef","oldPasswordInputRef","newPasswordInputRef","authCtx","submitHandler","event","preventDefault","enteredUsername","current","value","enteredOldPassword","enteredNewPassword","fetch","method","headers","then","res","replace","form","control","action"],"sources":["/Users/syedabbasali/Desktop/IndividualProject/submission/FrontendV3/src/components/Profile/ProfileForm.js"],"sourcesContent":["import { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = () => {\n  const history = useHistory();\n\n\n  \n  const usernameInputRef = useRef();\n  const oldPasswordInputRef = useRef();\n  const newPasswordInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredOldPassword = oldPasswordInputRef.current.value;\n    const enteredNewPassword = newPasswordInputRef.current.value;\n\n    // add validation\n\n    fetch(`http://54.174.0.81:8080/shop/update_password/username=${enteredUsername}/oldpassword=${enteredOldPassword}/newpassword=${enteredNewPassword}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      // assumption: Always succeeds!\n\n      history.replace('/');\n    });\n  };\n\n  return (\n    <div>\n      <h2>Change Password</h2>\n    <form className={classes.form} onSubmit={submitHandler}>\n      <div className={classes.control}>\n          <label htmlFor='username'>Username</label>\n          <input required type='text' id='username' ref={usernameInputRef} />\n        </div>\n      <div className={classes.control}>\n          <label htmlFor='old-password'>Old Password</label>\n          <input required type='password' id='old-password' ref={oldPasswordInputRef} />\n        </div>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input required type='password' id='new-password' ref={newPasswordInputRef} />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n      \n    </form>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,UAAU,QAAQ,OAAO;AAC1C,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,OAAO,MAAM,0BAA0B;AAAC;AAE/C,MAAMC,WAAW,GAAG,MAAM;EAAA;EACxB,MAAMC,OAAO,GAAGJ,UAAU,EAAE;EAI5B,MAAMK,gBAAgB,GAAGP,MAAM,EAAE;EACjC,MAAMQ,mBAAmB,GAAGR,MAAM,EAAE;EACpC,MAAMS,mBAAmB,GAAGT,MAAM,EAAE;EACpC,MAAMU,OAAO,GAAGT,UAAU,CAACE,WAAW,CAAC;EAEvC,MAAMQ,aAAa,GAAIC,KAAK,IAAK;IAC/BA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAMC,eAAe,GAAGP,gBAAgB,CAACQ,OAAO,CAACC,KAAK;IACtD,MAAMC,kBAAkB,GAAGT,mBAAmB,CAACO,OAAO,CAACC,KAAK;IAC5D,MAAME,kBAAkB,GAAGT,mBAAmB,CAACM,OAAO,CAACC,KAAK;;IAE5D;;IAEAG,KAAK,CAAE,yDAAwDL,eAAgB,gBAAeG,kBAAmB,gBAAeC,kBAAmB,EAAC,EAAE;MACpJE,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG,IAAI;MACb;;MAEAjB,OAAO,CAACkB,OAAO,CAAC,GAAG,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC;EAED,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAwB,eAC1B;MAAM,SAAS,EAAEpB,OAAO,CAACqB,IAAK;MAAC,QAAQ,EAAEd,aAAc;MAAA,wBACrD;QAAK,SAAS,EAAEP,OAAO,CAACsB,OAAQ;QAAA,wBAC5B;UAAO,OAAO,EAAC,UAAU;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAiB,eAC1C;UAAO,QAAQ;UAAC,IAAI,EAAC,MAAM;UAAC,EAAE,EAAC,UAAU;UAAC,GAAG,EAAEnB;QAAiB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC/D,eACR;QAAK,SAAS,EAAEH,OAAO,CAACsB,OAAQ;QAAA,wBAC5B;UAAO,OAAO,EAAC,cAAc;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAqB,eAClD;UAAO,QAAQ;UAAC,IAAI,EAAC,UAAU;UAAC,EAAE,EAAC,cAAc;UAAC,GAAG,EAAElB;QAAoB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC1E,eACR;QAAK,SAAS,EAAEJ,OAAO,CAACsB,OAAQ;QAAA,wBAC9B;UAAO,OAAO,EAAC,cAAc;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAqB,eAClD;UAAO,QAAQ;UAAC,IAAI,EAAC,UAAU;UAAC,EAAE,EAAC,cAAc;UAAC,GAAG,EAAEjB;QAAoB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC1E,eACN;QAAK,SAAS,EAAEL,OAAO,CAACuB,MAAO;QAAA,uBAC7B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAgC;QAAA;QAAA;QAAA;MAAA,QAC5B;IAAA;MAAA;MAAA;MAAA;IAAA,QAED;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEV,CAAC;AAAC,GAtDItB,WAAW;EAAA,QACCH,UAAU;AAAA;AAAA,KADtBG,WAAW;AAwDjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}