{"ast":null,"code":"import{useState,useRef,useContext}from'react';import{useHistory}from'react-router-dom';import AuthContext from'../../store/auth-context';import classes from'./ProfileForm.module.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var EditUser=function EditUser(props){var history=useHistory();var username=JSON.parse(localStorage.getItem('userProfile'));var userEditInputRef=useRef();var authCtx=useContext(AuthContext);var submitHandler=function submitHandler(event){event.preventDefault();var enteredUser=userEditInputRef.current.value;if(props.userEdit===\"Shop Name\"){fetch(\"http://54.174.0.81:8080/shop/update_shopname/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shopname=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Shop Type\"){fetch(\"http://54.174.0.81:8080/shop/update_shoptype/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shoptype=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Shop Address\"){fetch(\"http://54.174.0.81:8080/shop/update_shopaddress/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shopaddress=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Shop Postcode\"){fetch(\"http://54.174.0.81:8080/shop/update_shoppostcode/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shoppostcode=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Longitude\"){fetch(\"http://54.174.0.81:8080/shop/update_shoplongitude/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shoplongitude=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Latitude\"){fetch(\"http://54.174.0.81:8080/shop/update_shoplatitude/username=\".concat(username.username,\"/password=\").concat(username.password,\"/shoplatitude=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Shop Crowd\"){fetch(\"http://54.174.0.81:8080/shop/update_person_count/username=\".concat(username.username,\"/count=\").concat(enteredUser,\"/event=Entry\"),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}else if(props.userEdit===\"Shop Status\"){fetch(\"http://54.174.0.81:8080/shop/update_shop_status/username=\".concat(username.username,\"/password=\").concat(username.password,\"/status=\").concat(enteredUser),{method:'POST',headers:{'Content-Type':'application/json'}}).then(function(res){props.userUpdated();alert(props.userEdit+\" is Updated!\");}).catch(function(err){console.log(err);alert(err.message);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Change \\\"\",props.userEdit,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:props.userEdit}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",id:\"username\",ref:userEditInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex jc-space-evenly\",children:[/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Save Changes\"})}),/*#__PURE__*/_jsx(\"a\",{className:classes.cancel,onClick:function onClick(){return props.userUpdated();},children:\"Cancel\"})]})]})]});};export default EditUser;","map":{"version":3,"names":["useState","useRef","useContext","useHistory","AuthContext","classes","EditUser","props","history","username","JSON","parse","localStorage","getItem","userEditInputRef","authCtx","submitHandler","event","preventDefault","enteredUser","current","value","userEdit","fetch","password","method","headers","then","res","userUpdated","alert","catch","err","console","log","message","form","control","action","cancel"],"sources":["/Users/syedabbasali/Desktop/IndividualProject/submission/FrontendV3/src/components/Profile/EditUser.js"],"sourcesContent":["import { useState, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\n\nconst EditUser = (props) => {\n  const history = useHistory();\n\n\n  var username = JSON.parse(localStorage.getItem('userProfile'));\n  const userEditInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  \n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredUser = userEditInputRef.current.value;\n\n    if(props.userEdit === \"Shop Name\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shopname/username=${username.username}/password=${username.password}/shopname=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n        \n    } else if(props.userEdit === \"Shop Type\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shoptype/username=${username.username}/password=${username.password}/shoptype=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Shop Address\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shopaddress/username=${username.username}/password=${username.password}/shopaddress=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Shop Postcode\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shoppostcode/username=${username.username}/password=${username.password}/shoppostcode=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Longitude\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shoplongitude/username=${username.username}/password=${username.password}/shoplongitude=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Latitude\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shoplatitude/username=${username.username}/password=${username.password}/shoplatitude=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Shop Crowd\") {\n        \n        fetch(`http://54.174.0.81:8080/shop/update_person_count/username=${username.username}/count=${enteredUser}/event=Entry`, {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    } else if(props.userEdit === \"Shop Status\") {\n        fetch(`http://54.174.0.81:8080/shop/update_shop_status/username=${username.username}/password=${username.password}/status=${enteredUser}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n              props.userUpdated();\n              \n              alert(props.userEdit + \" is Updated!\");\n          }).catch((err) => {\n            console.log(err);\n            alert(err.message);\n          });\n    }\n\n    \n  };\n\n  return (\n    <div>\n      <h2>Change \"{props.userEdit}\"</h2>\n    <form className={classes.form} onSubmit={submitHandler}>\n      <div className={classes.control}>\n          <label htmlFor='username'>{props.userEdit}</label>\n          <input required type='text' id='username' ref={userEditInputRef} />\n        </div>\n     \n      <div className='display-flex jc-space-evenly'>\n        <div className={classes.action}>\n          <button>Save Changes</button>\n        </div>\n        \n          <a className={classes.cancel} onClick={()=> props.userUpdated()}>Cancel</a>\n        \n      </div>\n      \n    </form>\n    </div>\n  );\n};\n\nexport default EditUser;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}